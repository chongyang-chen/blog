---
title: C语言学习笔记
tags:
  - C
categories:
  - C
date: 2018-07-14 11:39:11
---


一个简单的C程序，使用Xcode新建一个C项目，默认会创建一个main.c的文件，这是学习C语言的基础。

```C
#include <stdio.h>

int main(int argc, const char * argv[]) {
    // insert code here...
    printf("Hello, World!\n");
    return 0;
}
```
<!-- more -->

一个完整的C程序。

```C
//一个完成的C程序
#define HEIGHT (10)

int calculate(int Long, int Width);

int main01(){
    int m_Long;
    int m_Width;
    int result;
    printf("长方体的高为：%d\n", HEIGHT);
    printf("请输入长度\n");
    scanf("%d", &m_Long);
    printf("请输入宽度\n");
    scanf("%d", &m_Width);
    result = calculate(m_Long, m_Width);
    printf("长方体的体积是：%d\n", result);
    return 0;
}

int calculate(int Long, int Width){
    return Long * Width * HEIGHT;
}
```

运行结果如下：

```c
长方体的高为：10
请输入长度
4
请输入宽度
5
长方体的体积是：200
Program ended with exit code: 0
```

这个程序实现了一个简单的功能，输入长方体的长和宽，计算长方体的体积。这是第一个完成的C程序。

C语言是很重要的，学会了C语言就可以很容易的掌握任何一门程序语言，因为每种语言都会有一些共性存在。

C语言数据类型包括基本类型，构造类型，指针类型和空类型。
基本类型包括整型，浮点型，字符型，枚举类型。
构造类型包括数组类型，结构体类型，共用体类型。

了解了C语言的数据类型后，还要懂得如何操作这些数据。掌握C语言中各种运算符和表达式的应用是必须的。

C语言的运算符包括赋值运算符，算术运算符，关系运算符，逻辑运算符，位逻辑运算符以及逗号运算符。

注意：运算符的优先级中，逗号运算符是最低的。一般情况算术运算符>关系运算符>位逻辑运算符>逻辑运算符>赋值运算符，&&的优先级要高于||。

C语言输入/输出函数。C语言的语句是用来向计算机系统发出操作指令的，先要向程序输入数据，然后程序通过计算将结果显示出来。数据可以是用户手动输入，或者从文件读取，也可以是来自数据库等。

比如一个简单的学生成绩管理系统，需要输入学生的姓名，学号，各科成绩等信息。通过程序可以计算出学生的总成绩，平均成绩，总成绩排名，以及各科成绩排名。

putchar()和getchar()函数可以输入输出单个字符。
gets()和puts()函数可以输入输出字符串。

常用的输入输出函数是printf(),scanf()。

```C
float pi = 3.14;

float area;
float radius;
puts("Enter the radius:");
scanf("%f", &radius);
area = pi * radius * radius;

printf("The area is: %.2f\n", area);
```

上面的代码，输入圆的半径，输出圆的面积。使用puts()函数输出提示信息。



学习C语言，学会编程，其中顺序结构是最简单的，选择结构增加了逻辑判断，使用选择结构可以编写出更加复杂的程序。

最简单的选择结构：

```C
if(表达式){
	//TODO
}
```

如果表达式的结果为真，则可以在大括号中做一些事情，否则什么也不做。
另一种情况：

```C
if(表达式){
	// do something.
}else{
	// do otherting.
}
```
如果表达式的结果为真，做一些事情，否则做其他的事情。

更复杂的情况：

```C
if(表达式1){

else if(表达式2){

}else if(表达式3){

}...

```

这种写法很啰嗦，如果有很多种情况就要一直else if下去，此时可以考虑使用switch语句。

```C
switch(表达式)
{
	case 情况1:{
		//TODO
	}
	case 情况2:{
		//TODO
	}
	case 情况3:{
		//TODO
	}
	case 情况4:{
		//TODO
	}
	case 情况5:{
		//TODO
	}
	...
	default:{
		//TODO
	}
}
```
个人觉得当情况有很多种的时候用switch语句会更方便些，一般情况语句就够了。注释是一个很重要的东西，当条件判断很复杂是，注释就显得尤为重要，有时候自己写的代码，时间长了不看注释的话，也不知道是什么意思。

生活中会有许多简单而又重复的工作，比如敲代码，每天都一遍又一遍敲着重复的代码。使用循环语句可以使这些工作变得简单。





从1一直加到100:



\```C

int main(int argc, const char * argv[]) {

  int sum = 0;

  int i = 1;

  while(i <= 100){

​    sum += i;

​    i++;

  }

  printf("sum = %d\n", sum);

  return 0;

}

\```

这就是循环的作用。



C语言中有while，do-while，for三种循环语句，同时也有三种转移语句goto，break，continue。

在编程中使用选择和循环语句可以实现任何复杂的功能，换句话说，任何程序都可以用顺序，选择，循环三种语句来实现。选择和循环语句也是许多编程语言都有的，只是语法上稍微不同。所以，学好C语言再去学习其他语言就容易许多了。

在编程的过程中，经常会遇到使用很多数据量的情况，如果每一个数据都定义一个变量，则显得很啰嗦。C语言提供的数组就可以解决这种问题。

定义一个数组：

```C
int iArray[100];
```

int是数组元素的类型，iArray表示数组变量名，100表示数组的元素个数。数组在内存中是顺序存储的，数组名代表数组的首地址，也就是第一个元素的地址。

学了数组，就来编写一些稍微复杂点的程序。

冒泡排序
记得有一次面试，面试官就考了冒泡排序，有好几个面试者坐在一起，一个一个回答当时我就说了使用两层循环，然后怎么怎么做，我最后说了加一个判断标记，如果完成排序则结束循环。

核心代码：

```C
for (int i = 1; i < 10; i++){
	for (int j = 9; j >= i; j++){
		if(a[j] < a[j - 1]){
			//TODO交换a[j]与a[j - 1]
		}
	}
	
```

冒泡排序是后一个和前一个进行比较，或者说是前一个和后一个进行比较。关于交换有多种写法，最简单的：

```C
int a = 10, b = 20;
int temp = a;
a = b;
b = temp;
```
或者

```C
a = a ^ b;
b = b ^ a;
a = a ^ b;
```
再或者

```C
a = a - b;
b = b + a;
a = b - a;
```

个人认为第一种写法好，逻辑清晰，一目了然，增加了一个临时变量，增加了一些内存。后面两中写法没有增加临时变量，自然也就没有增加内存，不见得执行效率就比第一种要好。

一个算法需要消耗一定的时间和空间，空间就好比是内存，最好的情况是需要的内存最少，而且消耗的时间最短。但是现实是鱼和熊掌不可兼得，就要有所取舍。有的算法消耗内存少，但是执行时间较长。有的算法执行时间很短，但是需要更多的内存空间。
